<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.49" />
    <meta name="description" content="KUBEDGE">
<meta name="author" content="Kubedge Team">

    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/images/favicon.png" type="image/x-icon" />
    <title>Update Kubernetes to 1.11 on Ubuntu :: KUBEDGE&#39;s Blog</title>

    
    <link href="/css/nucleus.css?1541984557" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1541984557" rel="stylesheet">
    <link href="/css/hybrid.css?1541984557" rel="stylesheet">
    <link href="/css/featherlight.min.css?1541984557" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1541984557" rel="stylesheet">
    <link href="/css/auto-complete.css?1541984557" rel="stylesheet">
    <link href="/css/theme.css?1541984557" rel="stylesheet">
    <link href="/css/hugo-theme.css?1541984557" rel="stylesheet">
    
      <link href="/css/theme-kubedge.css?1541984557" rel="stylesheet">
    

    <script src="/js/jquery-2.x.min.js?1541984557"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/pi_cluster/advanced/children/2018-06-30-a/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="">
<svg id="grav-logo" width="100%" height="100%" viewBox="110 125 225 125" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" >
<style type="text/css">
	.st0{fill:#1B75BC;stroke:#1B75BC;stroke-width:4;stroke-miterlimit:10;}
	.st1{fill:#FFFFFF;stroke:#1B75BC;stroke-width:0.25;stroke-miterlimit:10;}
</style>
<g>
	<path class="st1" d="M120.78,221.22c0,1.66-0.04,1.93,1.5,2.42c0.57,0.18,0.97,0.58,0.97,1.21c0,1.3-1.46,1.39-1.63,1.39h-12.5
		c-0.18,0-1.63-0.09-1.63-1.39c0-0.63,0.4-1.03,0.97-1.21c1.55-0.49,1.5-0.76,1.5-2.42V197.7c0-1.66,0.04-1.93-1.5-2.42
		c-0.57-0.18-0.97-0.58-0.97-1.21c0-1.3,1.46-1.39,1.63-1.39h12.5c0.18,0,1.63,0.09,1.63,1.39c0,0.63-0.4,1.03-0.97,1.21
		c-1.55,0.49-1.5,0.76-1.5,2.42V221.22z M137.44,221.36c0.4,0.99,0.53,1.75,1.55,2.24c0.66,0.31,1.06,0.58,1.06,1.44
		c0,1.3-1.46,1.21-2.34,1.21h-11.09c-1.02,0-2.34,0-2.34-1.39c0-1.48,1.81-1.21,1.81-2.2c0-0.36-0.22-1.03-0.35-1.35l-2.74-8.35
		c-0.27-0.85-0.57-1.8-0.57-2.74s0.49-1.53,1.02-2.29l5.13-7.41c0.62-0.85,1.15-1.75,1.15-2.83c0-1.21-0.62-1.84-1.68-2.29
		c-0.71-0.31-1.37-0.49-1.37-1.39c0-1.39,1.24-1.35,2.16-1.35h7.55c1.06,0,2.34,0.04,2.34,1.48c0,1.03-0.84,1.35-1.63,1.66
		c-3.05,1.17-4.06,2.87-5.92,5.43l-0.84,1.17L137.44,221.36z"/>
	<path class="st1" d="M159.53,226.92c-3.49,0-6.19-0.05-9.23-1.75c-3.98-2.24-4.51-3.95-4.51-6.2V197.7c0-1.66,0.04-1.93-1.5-2.42
		c-0.57-0.18-0.97-0.58-0.97-1.21c0-1.3,1.46-1.39,1.63-1.39h12.5c0.18,0,1.63,0.09,1.63,1.39c0,0.63-0.4,1.03-0.97,1.21
		c-1.55,0.49-1.5,0.76-1.5,2.42v21.59c0,0.45-0.4,4,2.92,4.98V226.92z M167.44,199.76c-0.71-5.61-3.53-3.86-3.53-5.79
		c0-1.39,1.81-1.3,2.3-1.3h5.04c0.49,0,2.3-0.09,2.3,1.3c0,1.93-2.83,0.18-3.53,5.79v16.93c-0.35,7.41-5.61,10.1-8.48,10.15v-2.65
		c4.06-1.26,5.66-3.59,5.92-7.59V199.76z"/>
	<path class="st1" d="M189.7,226.25h-11.88c-0.31,0-1.41-0.09-1.41-1.39c0-0.63,0.4-1.03,0.97-1.21c1.55-0.49,1.5-0.76,1.5-2.42
		V197.7c0-1.66,0.04-1.93-1.5-2.42c-0.57-0.18-0.97-0.58-0.97-1.21c0-1.3,1.1-1.39,1.41-1.39h11.88V226.25z M191.69,192.67h1.37
		c2.78,0,5.61,0.04,8.17,1.3c2.74,1.39,4.33,3.73,4.33,6.91c0,4.94-4.06,7.23-8.35,7.9v0.09c4.9,0.81,8.79,3.01,8.79,8.62
		c0,3.19-1.37,5.7-4.15,7.27c-2.83,1.62-5.61,1.48-8.75,1.48h-1.41v-2.6c2.96-0.14,3.31-1.84,3.31-3.46v-5.79
		c0-2.07-0.49-4-3.31-4.22v-2.6c3.23-0.27,3.31-2.2,3.31-3.86v-4.49c0-1.89-0.66-3.68-3.31-3.95V192.67z"/>
	<path class="st1" d="M211.4,192.67h11.66v33.58H211.4c-0.18,0-1.63-0.09-1.63-1.39c0-0.63,0.4-1.03,0.97-1.21
		c1.55-0.49,1.5-0.76,1.5-2.42V197.7c0-1.66,0.04-1.93-1.5-2.42c-0.57-0.18-0.97-0.58-0.97-1.21
		C209.76,192.76,211.22,192.67,211.4,192.67z M225.05,192.67h9.85v9.11c0,0.22-0.04,1.08-1.37,1.08c-0.75,0-0.97-0.45-1.19-1.12
		c-1.15-3.64-3.4-5.84-7.29-6.46V192.67z M225.05,207.66c1.86-0.49,2.69-2.24,3.09-3.95c0.22-0.76,0.49-1.48,1.41-1.48
		c1.37,0,1.15,1.62,1.15,1.98v9.7c0,0.36,0.22,1.98-1.15,1.98c-0.93,0-1.19-0.72-1.41-1.48c-0.4-1.71-1.24-3.46-3.09-3.95V207.66z
		 M225.05,223.65c3.58-0.45,6.32-2.92,7.51-6.51c0.31-0.67,0.57-1.39,1.37-1.39c1.41,0,1.28,1.35,1.28,1.53v8.98h-10.16V223.65z"/>
	<path class="st1" d="M251.65,226.25h-11.22c-0.97,0-2.08-0.09-2.08-1.39c0-0.63,0.4-1.03,0.97-1.21c1.55-0.49,1.5-0.76,1.5-2.42
		V197.7c0-0.67,0.09-1.89-0.75-2.15c-0.88-0.31-1.72-0.45-1.72-1.57c0-1.17,1.1-1.3,1.99-1.3h11.31V226.25z M253.63,192.67
		c7.51-0.09,13.78,5.21,14.31,16.79c0.49,10.55-6.98,16.79-14.31,16.79v-2.6c2.69-0.36,2.83-2.92,2.83-4.62V199.9
		c0-1.71-0.13-4.26-2.83-4.62V192.67z"/>
	<path class="st1" d="M281.78,220.19c0,1.62,0.35,3.5,2.12,4.13v2.6c-7.69-0.23-13.61-7.86-13.61-17.46
		c0-9.65,5.92-17.28,13.61-17.46v2.6c-1.77,0.63-2.12,2.47-2.12,4.08V220.19z M285.89,224.32c1.94-0.58,2.03-2.11,2.03-2.87v-8.08
		c0-0.99-0.04-1.21-1.81-1.53c-0.71-0.18-1.15-0.58-1.15-1.35c0-1.21,1.55-1.26,1.77-1.26h10.56c0.22,0,1.55-0.13,1.55,1.35
		c0,0.76-0.4,1.08-0.8,1.35c-0.93,0.58-0.79,1.12-0.79,1.35v8.89c-3.09,2.83-7.16,4.67-11.35,4.76V224.32z M285.89,192
		c4.64,0.4,7.02,1.66,7.51,1.66c1.33,0,1.19-1.66,2.61-1.66c1.33,0,1.24,1.21,1.24,1.44v10.01c0,0.22,0,1.62-1.37,1.62
		c-1.15,0-1.46-0.85-1.68-1.8c-1.37-5.75-4.73-8.49-8.31-8.66V192z"/>
	<path class="st1" d="M303.29,192.67h11.66v33.58h-11.66c-0.18,0-1.63-0.09-1.63-1.39c0-0.63,0.4-1.03,0.97-1.21
		c1.55-0.49,1.5-0.76,1.5-2.42V197.7c0-1.66,0.04-1.93-1.5-2.42c-0.57-0.18-0.97-0.58-0.97-1.21
		C301.66,192.76,303.12,192.67,303.29,192.67z M316.95,192.67h9.85v9.11c0,0.22-0.04,1.08-1.37,1.08c-0.75,0-0.97-0.45-1.19-1.12
		c-1.15-3.64-3.4-5.84-7.29-6.46V192.67z M316.95,207.66c1.86-0.49,2.69-2.24,3.09-3.95c0.22-0.76,0.49-1.48,1.41-1.48
		c1.37,0,1.15,1.62,1.15,1.98v9.7c0,0.36,0.22,1.98-1.15,1.98c-0.93,0-1.19-0.72-1.41-1.48c-0.4-1.71-1.24-3.46-3.09-3.95V207.66z
		 M316.95,223.65c3.58-0.45,6.32-2.92,7.51-6.51c0.31-0.67,0.57-1.39,1.37-1.39c1.41,0,1.28,1.35,1.28,1.53v8.98h-10.16V223.65z"/>
</g>
</svg>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1541984557"></script>
<script type="text/javascript" src="/js/auto-complete.js?1541984557"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="/js/search.js?1541984557"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/post/" title="Latest News" class="dd-item 
        
        
        
        ">
      <a href="/post/">
          Latest News
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/devops/" title="DevOps" class="dd-item 
        
        
        
        ">
      <a href="/devops/">
          <b>1. </b>DevOps
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/devops/git_gerrit/" title="Git/Gerrit" class="dd-item 
        
        
        
        ">
      <a href="/devops/git_gerrit/">
          <b>1.1. </b>Git &amp; Gerrit
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/devops/git_gerrit/children/setup_git/" title="Setting up GitHub" class="dd-item ">
        <a href="/devops/git_gerrit/children/setup_git/">
        GitHub
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/git_gerrit/children/setup_gerrit/" title="Setting up GerritHub" class="dd-item ">
        <a href="/devops/git_gerrit/children/setup_gerrit/">
        GerritHub
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/devops/cicd/" title="CI/CD" class="dd-item 
        
        
        
        ">
      <a href="/devops/cicd/">
          <b>1.2. </b>CI/CD
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/devops/cicd/children/setup_dockerhub/" title="Setting up DockerHub" class="dd-item ">
        <a href="/devops/cicd/children/setup_dockerhub/">
        DockerHub
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/cicd/children/setup_travis-ci/" title="Setting up Travis-CI" class="dd-item ">
        <a href="/devops/cicd/children/setup_travis-ci/">
        Travis-CI
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/devops/hugo_githubpages/" title="Hugo/GitHubPages" class="dd-item 
        
        
        
        ">
      <a href="/devops/hugo_githubpages/">
          <b>1.3. </b>Hugo &amp; GitHub pages
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/devops/kubedgesdk/" title="Kubedge SDK" class="dd-item 
        
        
        
        ">
      <a href="/devops/kubedgesdk/">
          <b>1.4. </b>Kubedge SDK
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/devops/kubedgesdk/children/2018-07-15-a/" title="Recompile Kubernetes components for Raspberry PI" class="dd-item ">
        <a href="/devops/kubedgesdk/children/2018-07-15-a/">
        Kubernetes cross-compilation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/kubedgesdk/children/2018-06-24-a/" title="docker.io versus docker-ce" class="dd-item ">
        <a href="/devops/kubedgesdk/children/2018-06-24-a/">
        Docker
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/kubedgesdk/children/2018-06-21-a/" title="Setup SingleNode Kubernetes Cluster using kubeadm" class="dd-item ">
        <a href="/devops/kubedgesdk/children/2018-06-21-a/">
        SingleNode Kubernetes
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/devops/microservices/" title="MicroServices" class="dd-item 
        
        
        
        ">
      <a href="/devops/microservices/">
          <b>1.5. </b>MicroServices
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/devops/microservices/children/2018-07-01-a/" title="Python" class="dd-item ">
        <a href="/devops/microservices/children/2018-07-01-a/">
        Python
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/microservices/children/2018-06-29-a/" title="Creating simple GO server container" class="dd-item ">
        <a href="/devops/microservices/children/2018-06-29-a/">
        GO
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/microservices/children/2018-06-28-a/" title="Creating simple Java 10 server container" class="dd-item ">
        <a href="/devops/microservices/children/2018-06-28-a/">
        Java 10
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/microservices/children/2018-06-22-a/" title="Setup your GOLANG environment" class="dd-item ">
        <a href="/devops/microservices/children/2018-06-22-a/">
        GOLANG env
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/devops/advanced/" title="Advanced &amp; WIP" class="dd-item 
        
        
        
        ">
      <a href="/devops/advanced/">
          <b>1.6. </b>Advanced &amp; WIP
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/devops/advanced/children/2018-07-16-a/" title="Rebuild Hyperkube images" class="dd-item ">
        <a href="/devops/advanced/children/2018-07-16-a/">
        Hyperkube images
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/advanced/children/2018-06-26-a/" title="Zuul" class="dd-item ">
        <a href="/devops/advanced/children/2018-06-26-a/">
        Zuul
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/advanced/children/2018-06-25-a/" title="Setup github/gerrit behind a corporate http proxy" class="dd-item ">
        <a href="/devops/advanced/children/2018-06-25-a/">
        Corporate Proxy
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/devops/advanced/children/2018-06-23-a/" title="Setup multiple GitHub account on a single machine" class="dd-item ">
        <a href="/devops/advanced/children/2018-06-23-a/">
        Multiple GitHub accounts
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/pi_cluster/" title="RPI Cluster" class="dd-item 
        parent
        
        
        ">
      <a href="/pi_cluster/">
          <b>2. </b>RPI Cluster
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/pi_cluster/os_installation/" title="Operating System" class="dd-item 
        
        
        
        ">
      <a href="/pi_cluster/os_installation/">
          <b>2.1. </b>Operating System
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/os_installation/children/cluster_assembly/" title="Raspberry PI cluster Assembly" class="dd-item ">
        <a href="/pi_cluster/os_installation/children/cluster_assembly/">
        HW Assembly
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/os_installation/children/master_pi/" title="OS Installation on Master PI" class="dd-item ">
        <a href="/pi_cluster/os_installation/children/master_pi/">
        OS on Master PI
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/os_installation/children/setup_wpa_applicant/" title="Setting up WPA supplicant on Master PI" class="dd-item ">
        <a href="/pi_cluster/os_installation/children/setup_wpa_applicant/">
        WPA supplicant
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/os_installation/children/setup_dhcpd/" title="Setting up DHCPD on master PI" class="dd-item ">
        <a href="/pi_cluster/os_installation/children/setup_dhcpd/">
        DHCPD &amp; NAT
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/os_installation/children/worker_pi/" title="OS Installation on Worker PI" class="dd-item ">
        <a href="/pi_cluster/os_installation/children/worker_pi/">
        OS on Worker PI
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/os_installation/children/ansible/" title="Using Ansible to manage Raspberry PI cluster" class="dd-item ">
        <a href="/pi_cluster/os_installation/children/ansible/">
        Ansible
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/os_installation/children/dongle/" title="Create a Rapsberry PI Rescue Dongle" class="dd-item ">
        <a href="/pi_cluster/os_installation/children/dongle/">
        Rescue Dongle
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/pi_cluster/docker_kubernetes/" title="Kubernetes" class="dd-item 
        
        
        
        ">
      <a href="/pi_cluster/docker_kubernetes/">
          <b>2.2. </b>Kubernetes
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/docker_kubernetes/children/2018-07-03-a/" title="Creating a Raspberry 3 B&#43; Kubernetes Cluster" class="dd-item ">
        <a href="/pi_cluster/docker_kubernetes/children/2018-07-03-a/">
        Installation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/docker_kubernetes/children/2018-07-08-a/" title="Add Persistency Volume to PI Cluster" class="dd-item ">
        <a href="/pi_cluster/docker_kubernetes/children/2018-07-08-a/">
        Persistency Volume
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/docker_kubernetes/children/2018-07-14-a/" title="Deploy Flannel in PI Cluster" class="dd-item ">
        <a href="/pi_cluster/docker_kubernetes/children/2018-07-14-a/">
        Flannel
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/docker_kubernetes/children/2018-06-19-a/" title="Add Raspberry PI node to Kubernetes Cluster in 10 min" class="dd-item ">
        <a href="/pi_cluster/docker_kubernetes/children/2018-06-19-a/">
        Add a node
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/docker_kubernetes/children/2018-07-12-a/" title="Enable docker Remote API" class="dd-item ">
        <a href="/pi_cluster/docker_kubernetes/children/2018-07-12-a/">
        Docker Remote API
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/pi_cluster/maintenance/" title="Helm &amp; Maintenance" class="dd-item 
        
        
        
        ">
      <a href="/pi_cluster/maintenance/">
          <b>2.3. </b>Helm &amp; Maintenance
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/maintenance/children/2018-07-13-a/" title="Deply Helm and Tiller on PI Cluster" class="dd-item ">
        <a href="/pi_cluster/maintenance/children/2018-07-13-a/">
        Helm and Tiller
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/maintenance/children/2018-07-11-a/" title="Use github repo as helm chart repository" class="dd-item ">
        <a href="/pi_cluster/maintenance/children/2018-07-11-a/">
        Helm charts repo
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/maintenance/children/2018-09-28-a/" title="Upgrade RPI Kubernetes cluster to 1.12" class="dd-item ">
        <a href="/pi_cluster/maintenance/children/2018-09-28-a/">
        Upgrade to K8s 1.12
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/maintenance/children/2018-07-02-a/" title="Compile and Test SONOBUOY" class="dd-item ">
        <a href="/pi_cluster/maintenance/children/2018-07-02-a/">
        Sonobuoy
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/pi_cluster/applications/" title="Applications" class="dd-item 
        
        
        
        ">
      <a href="/pi_cluster/applications/">
          <b>2.4. </b>Applications
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/applications/children/kubeplay/" title="Installing Kubedge Kubeplay" class="dd-item ">
        <a href="/pi_cluster/applications/children/kubeplay/">
        Kubeplay
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/applications/children/kubernetes_dashboard/" title="Installing Kubernetes Dashboard" class="dd-item ">
        <a href="/pi_cluster/applications/children/kubernetes_dashboard/">
        Dashboard
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/applications/children/kubesim_blinkt/" title="Installing Kubedge Blinkt" class="dd-item ">
        <a href="/pi_cluster/applications/children/kubesim_blinkt/">
        Blinkt
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/applications/children/prometheus/" title="Installing Prometheus" class="dd-item ">
        <a href="/pi_cluster/applications/children/prometheus/">
        Prometheus
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/applications/children/nats/" title="Installing NATS" class="dd-item ">
        <a href="/pi_cluster/applications/children/nats/">
        NATS
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/applications/children/grafana/" title="Installing Grafana" class="dd-item ">
        <a href="/pi_cluster/applications/children/grafana/">
        Grafana
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/applications/children/kibana/" title="Installing Kibana" class="dd-item ">
        <a href="/pi_cluster/applications/children/kibana/">
        Kibana &amp; fluentd
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/pi_cluster/advanced/" title="Advanced &amp; WIP" class="dd-item 
        parent
        
        
        ">
      <a href="/pi_cluster/advanced/">
          <b>2.5. </b>Advanced &amp; WIP
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/advanced/children/2018-06-30-a/" title="Update Kubernetes to 1.11 on Ubuntu" class="dd-item active">
        <a href="/pi_cluster/advanced/children/2018-06-30-a/">
        Upgrade to K8s 1.11
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/advanced/children/2018-07-30-a/" title="Build and Deploy Kubernetes test-infra" class="dd-item ">
        <a href="/pi_cluster/advanced/children/2018-07-30-a/">
        Test-Infra
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/advanced/children/2018-08-01-a/" title="Build and Deploy Kubernetes Hashicorp Vault" class="dd-item ">
        <a href="/pi_cluster/advanced/children/2018-08-01-a/">
        Hashicorp Vault
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/advanced/children/2018-07-31-a/" title="Build and Deploy Kubernetes Istio" class="dd-item ">
        <a href="/pi_cluster/advanced/children/2018-07-31-a/">
        Istio
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/advanced/children/2018-07-29-a/" title="Build and Deploy Kubernetes Kustomize" class="dd-item ">
        <a href="/pi_cluster/advanced/children/2018-07-29-a/">
        Kustomize
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/pi_cluster/advanced/children/2018-07-18-a/" title="Compile and Test Portieris" class="dd-item ">
        <a href="/pi_cluster/advanced/children/2018-07-18-a/">
        Portieris
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/lte_to_5g/" title="LTE to 5G Simulations" class="dd-item 
        
        
        
        ">
      <a href="/lte_to_5g/">
          <b>3. </b>LTE to 5G Simulations
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/lte_to_5g/rpi_wifi_ap/" title="WIFI AP" class="dd-item 
        
        
        
        ">
      <a href="/lte_to_5g/rpi_wifi_ap/">
          <b>3.1. </b>WIFI AP
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/rpi_wifi_ap/children/setup_hostapd/" title="Setting up HOSTAPD on 5G NR node" class="dd-item ">
        <a href="/lte_to_5g/rpi_wifi_ap/children/setup_hostapd/">
        HOSTAPD
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/rpi_wifi_ap/children/setup_dhcpd/" title="Setting up DHCPD on 5G NR Node" class="dd-item ">
        <a href="/lte_to_5g/rpi_wifi_ap/children/setup_dhcpd/">
        DHCPD &amp; NAT
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/lte_to_5g/rpi_bluetooth_pan/" title="Bluetooth PAN" class="dd-item 
        
        
        
        ">
      <a href="/lte_to_5g/rpi_bluetooth_pan/">
          <b>3.2. </b>Bluetooth PAN
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/rpi_bluetooth_pan/children/setup_pan/" title="Setting up PAN" class="dd-item ">
        <a href="/lte_to_5g/rpi_bluetooth_pan/children/setup_pan/">
        PAN
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/rpi_bluetooth_pan/children/setup_dhcpd/" title="Setting up DHCPD on LTE &amp; eLTE Node" class="dd-item ">
        <a href="/lte_to_5g/rpi_bluetooth_pan/children/setup_dhcpd/">
        DHCPD &amp; NAT
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/lte_to_5g/lte_and_5g_core_simulation/" title="EPC and 5GC" class="dd-item 
        
        
        
        ">
      <a href="/lte_to_5g/lte_and_5g_core_simulation/">
          <b>3.3. </b>EPC and 5GC
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/lte_and_5g_core_simulation/children/kubesim_epc/" title="Kubedge EPC Simulation" class="dd-item ">
        <a href="/lte_to_5g/lte_and_5g_core_simulation/children/kubesim_epc/">
        EPC
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/lte_and_5g_core_simulation/children/kubesim_5gc/" title="Kubedge 5GC Simulation" class="dd-item ">
        <a href="/lte_to_5g/lte_and_5g_core_simulation/children/kubesim_5gc/">
        5GC
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/lte_to_5g/lte_and_5g_ran_simulation/" title="LTE, eLTE and 5G RAN" class="dd-item 
        
        
        
        ">
      <a href="/lte_to_5g/lte_and_5g_ran_simulation/">
          <b>3.4. </b>LTE, eLTE and 5G RAN
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/lte_and_5g_ran_simulation/children/kubesim_lte/" title="Kubedge LTE Simulation" class="dd-item ">
        <a href="/lte_to_5g/lte_and_5g_ran_simulation/children/kubesim_lte/">
        LTE
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/lte_and_5g_ran_simulation/children/kubesim_elte/" title="Kubedge eLTE Simulation" class="dd-item ">
        <a href="/lte_to_5g/lte_and_5g_ran_simulation/children/kubesim_elte/">
        eLTE
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/lte_to_5g/lte_and_5g_ran_simulation/children/kubesim_nr/" title="Kubedge 5G NR Simulation" class="dd-item ">
        <a href="/lte_to_5g/lte_and_5g_ran_simulation/children/kubesim_nr/">
        5G NR
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/lte_to_5g/nsa_and_sa/" title="NSA vs SA. Option 3" class="dd-item 
        
        
        
        ">
      <a href="/lte_to_5g/nsa_and_sa/">
          <b>3.5. </b>NSA vs SA. Option 3
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/lte_to_5g/advanced/" title="Advanced &amp; WIP" class="dd-item 
        
        
        
        ">
      <a href="/lte_to_5g/advanced/">
          <b>3.6. </b>Advanced &amp; WIP
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/nfv/" title="NFV/SDN/Network Slicing" class="dd-item 
        
        
        
        ">
      <a href="/nfv/">
          <b>4. </b>NFV/SDN/Network Slicing
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/nfv/ovs/" title="OVS &amp; ODL" class="dd-item 
        
        
        
        ">
      <a href="/nfv/ovs/">
          <b>4.1. </b>OVS &amp; ODL
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/nfv/ovs/children/linux_bridging/" title="Linux Bridging" class="dd-item ">
        <a href="/nfv/ovs/children/linux_bridging/">
        Linux Bridging
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/nfv/ovs/children/ovs/" title="OVS" class="dd-item ">
        <a href="/nfv/ovs/children/ovs/">
        OVS
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/nfv/ovs/children/odl/" title="OpenDayLight" class="dd-item ">
        <a href="/nfv/ovs/children/odl/">
        OpenDayLight
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/nfv/golang/" title="GO Networking" class="dd-item 
        
        
        
        ">
      <a href="/nfv/golang/">
          <b>4.2. </b>GO Networking
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/nfv/golang/children/golang/" title="GOLANG" class="dd-item ">
        <a href="/nfv/golang/children/golang/">
        GOLANG
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/nfv/golang/children/dpdk/" title="DPDK &amp; FD.io" class="dd-item ">
        <a href="/nfv/golang/children/dpdk/">
        DPDK &amp; FD.io
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/nfv/golang/children/calico/" title="Rebuild Calico for ARM32V7" class="dd-item ">
        <a href="/nfv/golang/children/calico/">
        Calico
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/nfv/akraino/" title="Akraino" class="dd-item 
        
        
        
        ">
      <a href="/nfv/akraino/">
          <b>4.3. </b>Akraino
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/nfv/opnfv/" title="OPNFV" class="dd-item 
        
        
        
        ">
      <a href="/nfv/opnfv/">
          <b>4.4. </b>OPNFV
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/nfv/advanced/" title="Advanced &amp; WIP" class="dd-item 
        
        
        
        ">
      <a href="/nfv/advanced/">
          <b>4.6. </b>Advanced &amp; WIP
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/nfv/advanced/children/onap/" title="ONAP" class="dd-item ">
        <a href="/nfv/advanced/children/onap/">
        ONAP
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/about/" title="About KUBEDGE" class="dd-item 
        
        
        
        ">
      <a href="/about/">
          About KUBEDGE
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/kubedge/blog/tree/master/content/pi_cluster/advanced/children/2018-06-30-a.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Kubedge</a> > <a href='/pi_cluster/'>RPI Cluster</a> > <a href='/pi_cluster/advanced/'>Advanced & WIP</a> > Update Kubernetes to 1.11 on Ubuntu
          
         
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#initial-set-up">Initial set up</a></li>
<li><a href="#update-kubelet-and-kubectl">Update kubelet and kubectl</a></li>
<li><a href="#upgrading-kubeadm">Upgrading kubeadm</a></li>
<li><a href="#upgrading-your-kubernetes-cluster">Upgrading your Kubernetes cluster</a></li>
<li><a href="#usefull-links">Usefull Links</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>Update Kubernetes to 1.11 on Ubuntu</h1>
          

        


<p>Kubeadm is coming with an upgrade option. The goal of this study is to leverage the option.</p>

<p></p>

<h2 id="initial-set-up">Initial set up</h2>

<p>Kubernetes 1.10.4 is installed</p>

<pre><code>cat /etc/apt/sources.list.d/kubernetes.list
deb http://apt.kubernetes.io/ kubernetes-xenial main
</code></pre>

<pre><code>sudo dpkg -l kubeadm

Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                                   Version                  Architecture             Description
+++-======================================-========================-========================-=================================================================================
ii  kubeadm                                1.10.4-00                amd64                    Kubernetes Cluster Bootstrapping Tool
</code></pre>

<pre><code>sudo dpkg -l kubelet

Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                                   Version                  Architecture             Description
+++-======================================-========================-========================-=================================================================================
ii  kubelet                                1.10.4-00                amd64                    Kubernetes Node Agent
</code></pre>

<pre><code>sudo dpkg -l kubectl

Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                                   Version                  Architecture             Description
+++-======================================-========================-========================-=================================================================================
ii  kubectl                                1.10.4-00                amd64                    Kubernetes Command Line Tool
</code></pre>

<pre><code>kubectl version

Client Version: version.Info{Major:&quot;1&quot;, Minor:&quot;10&quot;, GitVersion:&quot;v1.10.4&quot;, GitCommit:&quot;5ca598b4ba5abb89bb773071ce452e33fb66339d&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2018-06-06T08:13:03Z&quot;, GoVersion:&quot;go1.9.3&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
Server Version: version.Info{Major:&quot;1&quot;, Minor:&quot;10&quot;, GitVersion:&quot;v1.10.4&quot;, GitCommit:&quot;5ca598b4ba5abb89bb773071ce452e33fb66339d&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2018-06-06T08:00:59Z&quot;, GoVersion:&quot;go1.9.3&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
</code></pre>

<h2 id="update-kubelet-and-kubectl">Update kubelet and kubectl</h2>

<p>Update aptitude</p>

<pre><code>sudo apt-get update

Hit:2 http://ppa.launchpad.net/longsleep/golang-backports/ubuntu xenial InRelease
Get:3 http://security.ubuntu.com/ubuntu xenial-security InRelease [107 kB]
Get:4 http://security.ubuntu.com/ubuntu xenial-security/main amd64 Packages [511 kB]
Get:5 http://security.ubuntu.com/ubuntu xenial-security/main i386 Packages [452 kB]
Get:6 http://security.ubuntu.com/ubuntu xenial-security/main amd64 DEP-11 Metadata [67.7 kB]
Get:7 http://security.ubuntu.com/ubuntu xenial-security/main DEP-11 64x64 Icons [68.0 kB]
Get:8 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages [355 kB]
Get:9 http://security.ubuntu.com/ubuntu xenial-security/universe i386 Packages [303 kB]
Get:10 http://security.ubuntu.com/ubuntu xenial-security/universe Translation-en [133 kB]
Get:11 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 DEP-11 Metadata [107 kB]
Get:12 http://security.ubuntu.com/ubuntu xenial-security/universe DEP-11 64x64 Icons [147 kB]
Hit:13 http://us.archive.ubuntu.com/ubuntu xenial InRelease
Get:14 http://us.archive.ubuntu.com/ubuntu xenial-updates InRelease [109 kB]
Get:15 http://us.archive.ubuntu.com/ubuntu xenial-backports InRelease [107 kB]
Get:16 http://us.archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [796 kB]
Get:17 http://us.archive.ubuntu.com/ubuntu xenial-updates/main i386 Packages [728 kB]
Get:18 http://us.archive.ubuntu.com/ubuntu xenial-updates/main Translation-en [329 kB]
Get:19 http://us.archive.ubuntu.com/ubuntu xenial-updates/main amd64 DEP-11 Metadata [318 kB]
Get:20 http://us.archive.ubuntu.com/ubuntu xenial-updates/main DEP-11 64x64 Icons [228 kB]
Get:21 http://us.archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages [640 kB]
Get:1 https://packages.cloud.google.com/apt kubernetes-xenial InRelease [8,993 B]
Get:22 http://us.archive.ubuntu.com/ubuntu xenial-updates/universe i386 Packages [585 kB]
Get:23 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 Packages [17.9 kB]
Get:24 http://us.archive.ubuntu.com/ubuntu xenial-updates/universe Translation-en [257 kB]
Get:25 http://us.archive.ubuntu.com/ubuntu xenial-updates/universe amd64 DEP-11 Metadata [246 kB]
Get:26 http://us.archive.ubuntu.com/ubuntu xenial-updates/universe DEP-11 64x64 Icons [331 kB]
Get:27 http://us.archive.ubuntu.com/ubuntu xenial-updates/multiverse amd64 DEP-11 Metadata [5,964 B]
Get:28 http://us.archive.ubuntu.com/ubuntu xenial-backports/main amd64 Packages [6,740 B]
Get:29 http://us.archive.ubuntu.com/ubuntu xenial-backports/main i386 Packages [6,732 B]
Get:30 http://us.archive.ubuntu.com/ubuntu xenial-backports/main Translation-en [4,180 B]
Get:31 http://us.archive.ubuntu.com/ubuntu xenial-backports/main amd64 DEP-11 Metadata [3,328 B]
Get:32 http://us.archive.ubuntu.com/ubuntu xenial-backports/universe amd64 Packages [7,412 B]
Get:33 http://us.archive.ubuntu.com/ubuntu xenial-backports/universe i386 Packages [7,104 B]
Get:34 http://us.archive.ubuntu.com/ubuntu xenial-backports/universe amd64 DEP-11 Metadata [5,100 B]
Get:35 http://us.archive.ubuntu.com/ubuntu xenial-backports/universe DEP-11 64x64 Icons [1,789 B]
Fetched 7,000 kB in 9s (757 kB/s)
</code></pre>

<p>Run the <code>apt-get upgrade</code> command. Notice how the <code>kubeadm</code> is &ldquo;kept back&rdquo;</p>

<pre><code>sudo apt-get upgrade


Reading package lists... Done
Building dependency tree
Reading state information... Done
Calculating upgrade... Done
The following packages were automatically installed and are no longer required:
  linux-headers-4.13.0-26 linux-headers-4.13.0-26-generic linux-image-4.13.0-26-generic linux-image-extra-4.13.0-26-generic
Use 'sudo apt autoremove' to remove them.
The following packages have been kept back:
  kubeadm
The following packages will be upgraded:
  amd64-microcode console-setup console-setup-linux cpp-5 desktop-file-utils ebtables g++-5 gcc-5 gcc-5-base gir1.2-javascriptcoregtk-4.0 gir1.2-webkit2-4.0 gnome-software
  gnome-software-common keyboard-configuration kubectl kubelet libasan2 libatomic1 libcc1-0 libcilkrts5 libgcc-5-dev libgcrypt20 libgomp1 libitm1 libjasper1
  libjavascriptcoregtk-4.0-18 libldap-2.4-2 liblsan0 libmpx0 libplymouth4 libquadmath0 libssl-dev libssl1.0.0 libstdc++-5-dev libstdc++6 libtsan0 libubsan0
  libwebkit2gtk-4.0-37 libwebkit2gtk-4.0-37-gtk2 linux-firmware openssl plymouth plymouth-label plymouth-theme-ubuntu-logo plymouth-theme-ubuntu-text rfkill snapd
  ubuntu-core-launcher ubuntu-software update-notifier update-notifier-common wireless-regdb
52 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
</code></pre>

<pre><code>sudo apt-get upgrade
</code></pre>

<pre><code>sudo apt-get autoremove
</code></pre>

<pre><code>sudo reboot
</code></pre>

<pre><code>sudo dpkg -l kubectl
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                                   Version                  Architecture             Description
+++-======================================-========================-========================-=================================================================================
ii  kubectl                                1.11.0-00                amd64                    Kubernetes Command Line Tool
</code></pre>

<pre><code>sudo dpkg -l kubeadm
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                                   Version                  Architecture             Description
+++-======================================-========================-========================-=================================================================================
ii  kubeadm                                1.10.4-00                amd64                    Kubernetes Cluster Bootstrapping Tool
</code></pre>

<pre><code>sudo dpkg -l kubelet
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                                   Version                  Architecture             Description
+++-======================================-========================-========================-=================================================================================
ii  kubelet                                1.11.0-00                amd64                    Kubernetes Node Agent
</code></pre>

<pre><code>kubectl version
Client Version: version.Info{Major:&quot;1&quot;, Minor:&quot;11&quot;, GitVersion:&quot;v1.11.0&quot;, GitCommit:&quot;91e7b4fd31fcd3d5f436da26c980becec37ceefe&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2018-06-27T20:17:28Z&quot;, GoVersion:&quot;go1.10.2&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
Server Version: version.Info{Major:&quot;1&quot;, Minor:&quot;10&quot;, GitVersion:&quot;v1.10.4&quot;, GitCommit:&quot;5ca598b4ba5abb89bb773071ce452e33fb66339d&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2018-06-06T08:00:59Z&quot;, GoVersion:&quot;go1.9.3&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
</code></pre>

<h2 id="upgrading-kubeadm">Upgrading kubeadm</h2>

<p>Install new kubeadm and associated new cri-tools</p>

<pre><code>sudo apt-get install kubeadm
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  cri-tools
The following NEW packages will be installed:
  cri-tools
The following packages will be upgraded:
  kubeadm
1 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 14.7 MB of archives.
After this operation, 70.9 MB disk space will be freed.
Do you want to continue? [Y/n] y
Get:1 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 cri-tools amd64 1.11.0-00 [5,309 kB]
Get:2 https://packages.cloud.google.com/apt kubernetes-xenial/main amd64 kubeadm amd64 1.11.0-00 [9,422 kB]
Fetched 14.7 MB in 5s (2,780 kB/s)
Selecting previously unselected package cri-tools.
(Reading database ... 225649 files and directories currently installed.)
Preparing to unpack .../cri-tools_1.11.0-00_amd64.deb ...
Unpacking cri-tools (1.11.0-00) ...
Preparing to unpack .../kubeadm_1.11.0-00_amd64.deb ...
Unpacking kubeadm (1.11.0-00) over (1.10.4-00) ...
Setting up cri-tools (1.11.0-00) ...
Setting up kubeadm (1.11.0-00) ...
Installing new version of config file /etc/systemd/system/kubelet.service.d/10-kubeadm.conf ...
</code></pre>

<pre><code>kubeadm version

kubeadm version: &amp;version.Info{Major:&quot;1&quot;, Minor:&quot;11&quot;, GitVersion:&quot;v1.11.0&quot;, GitCommit:&quot;91e7b4fd31fcd3d5f436da26c980becec37ceefe&quot;, GitTreeState:&quot;clean&quot;, BuildDate:&quot;2018-06-27T20:14:41Z&quot;, GoVersion:&quot;go1.10.2&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
</code></pre>

<h2 id="upgrading-your-kubernetes-cluster">Upgrading your Kubernetes cluster</h2>

<p>Cluster does not seems be in such a great shape</p>

<pre><code>NAME                                           READY     STATUS    RESTARTS   AGE
pod/calico-etcd-j8zqp                          1/1       Running   22         11d
pod/calico-kube-controllers-679568f47c-wgz7n   1/1       Running   27         11d
pod/calico-node-knstj                          2/2       Running   39         11d
pod/etcd-xxxxxxx                               0/1       Pending   0          1h
pod/kube-apiserver-xxxxxxx                     0/1       Pending   0          1h
pod/kube-controller-manager-xxxxxxx            0/1       Pending   0          1h
pod/kube-dns-86f4d74b45-fs7bq                  3/3       Running   66         11d
pod/kube-proxy-mpbf7                           1/1       Running   22         11d
pod/kube-scheduler-xxxxxxx                     0/1       Pending   0          1h
pod/tiller-deploy-5c688d5f9b-6cl5n             1/1       Running   23         11d

NAME                    TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)         AGE
service/calico-etcd     ClusterIP   10.96.232.136   &lt;none&gt;        6666/TCP        11d
service/kube-dns        ClusterIP   10.96.0.10      &lt;none&gt;        53/UDP,53/TCP   11d
service/tiller-deploy   ClusterIP   10.97.44.240    &lt;none&gt;        44134/TCP       11d

NAME                         DESIRED   CURRENT   READY     UP-TO-DATE   AVAILABLE   NODE SELECTOR                     AGE
daemonset.apps/calico-etcd   1         1         0         1            0           node-role.kubernetes.io/master=   11d
daemonset.apps/calico-node   1         1         0         1            0           &lt;none&gt;                            11d
daemonset.apps/kube-proxy    1         1         0         1            0           &lt;none&gt;                            11d

NAME                                      DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/calico-kube-controllers   1         1         1            0           11d
deployment.apps/kube-dns                  1         1         1            0           11d
deployment.apps/tiller-deploy             1         1         1            0           11d

NAME                                                 DESIRED   CURRENT   READY     AGE
replicaset.apps/calico-kube-controllers-679568f47c   1         1         0         11d
replicaset.apps/kube-dns-86f4d74b45                  1         1         0         11d
replicaset.apps/tiller-deploy-5c688d5f9b             1         1         0         11d
</code></pre>

<pre><code>sudo kubeadm upgrade apply --dry-run 1.11.0 &gt; /tmp/traces
[upgrade/health] FATAL: [preflight] Some fatal errors occurred:
        [ERROR MasterNodesReady]: there are NotReady masters in the cluster: [xxxxxxx]
[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`
</code></pre>

<h2 id="usefull-links">Usefull Links</h2>

<p>TBD</p>

<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/pi_cluster/advanced/" title="Advanced &amp; WIP"> <i class="fas fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/pi_cluster/advanced/children/2018-07-30-a/" title="Build and Deploy Kubernetes test-infra" style="margin-right: 0px;"><i class="fas fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1541984557"></script>
    <script src="/js/perfect-scrollbar.min.js?1541984557"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1541984557"></script>
    <script src="/js/jquery.sticky.js?1541984557"></script>
    <script src="/js/featherlight.min.js?1541984557"></script>
    <script src="/js/html5shiv-printshiv.min.js?1541984557"></script>
    <script src="/js/highlight.pack.js?1541984557"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1541984557"></script>
    <script src="/js/learn.js?1541984557"></script>
    <script src="/js/hugo-learn.js?1541984557"></script>

    <link href="/mermaid/mermaid.css?1541984557" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1541984557"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

